<ion-view title="Categories">
    <ion-content ng-init="getAllCategories()">
        <ion-list can-swipe="listCanSwipe">
            <ion-item ng-repeat="category in categories">
                {{category.name}}
                <ion-option-button class="button button-energized" ng-click="openModal(category)">
                    Edit
                </ion-option-button>
                <ion-option-button class="button button-assertive" ng-click="delete(category);categories.splice($index, 1)">
                    Delete
                </ion-option-button>
            </ion-item>
        </ion-list>
        <script id="edit-category.html" type="text/ng-template">
            <ion-modal-view>
                <ion-header-bar>
                    <h1 class="title">Edit Category</h1>
                    <div class="button button-clear" ng-click="closeModal()">
                        <span class="icon ion-close"></span>
                    </div>
                </ion-header-bar>
                <ion-content>
                    <div class="list">
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Name</span>
                            <input type="text" value="{{category.name}}" ng-model="category.name">
                        </label>
                    </div>
                    <button class="button button-block button-positive" ng-click="edit(category)">
                        Save
                    </button>
                </ion-content>
            </ion-modal-view>
        </script>
    </ion-content>
</ion-view>